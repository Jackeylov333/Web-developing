{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import socketIO from\"socket.io-client\";import{useParams}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=socketIO.connect(\"http://localhost:4000\");const Comments=()=>{const{category,id}=useParams();const[comment,setComment]=useState(\"\");const[commentList,setCommentList]=useState([]);const addComment=e=>{e.preventDefault();/*\r\n        👇🏻 sends the comment, the task category, item's id and the userID.\r\n         */socket.emit(\"addComment\",{comment,category,id,userId:localStorage.getItem(\"userId\")});setComment(\"\");};useEffect(()=>{socket.on(\"comments\",data=>setCommentList(data));},[]);useEffect(()=>{socket.emit(\"fetchComments\",{category,id});},[category,id]);return/*#__PURE__*/_jsxs(\"div\",{className:\"comments__container\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"comment__form\",onSubmit:addComment,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"comment\",children:\"Add a comment\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Type your comment...\",value:comment,onChange:e=>setComment(e.target.value),rows:5,id:\"comment\",name:\"comment\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"commentBtn\",children:\"ADD COMMENT\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"comments__section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Existing Comments\"}),commentList.map(comment=>/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:\"bold\"},children:[comment.text,\" \"]}),\"by\",\" \",comment.name]})},comment.id))]})]});};export default Comments;","map":{"version":3,"names":["React","useEffect","useState","socketIO","useParams","jsx","_jsx","jsxs","_jsxs","socket","connect","Comments","category","id","comment","setComment","commentList","setCommentList","addComment","e","preventDefault","emit","userId","localStorage","getItem","on","data","className","children","onSubmit","htmlFor","placeholder","value","onChange","target","rows","name","required","map","style","fontWeight","text"],"sources":["D:/Desktop/src/Web-developing/client/src/components/Comments.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport socketIO from \"socket.io-client\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst socket = socketIO.connect(\"http://localhost:4000\");\r\n\r\nconst Comments = () => {\r\n    const { category, id } = useParams();\r\n    const [comment, setComment] = useState(\"\");\r\n    const [commentList, setCommentList] = useState([]);\r\n\r\n    const addComment = (e) => {\r\n        e.preventDefault();\r\n        /*\r\n        👇🏻 sends the comment, the task category, item's id and the userID.\r\n         */\r\n        socket.emit(\"addComment\", {\r\n            comment,\r\n            category,\r\n            id,\r\n            userId: localStorage.getItem(\"userId\"),\r\n        });\r\n        setComment(\"\");\r\n    };\r\n    useEffect(() => {\r\n        socket.on(\"comments\", (data) => setCommentList(data));\r\n    }, []);\r\n    useEffect(() => {\r\n        socket.emit(\"fetchComments\", { category, id });\r\n    }, [category, id]);\r\n\r\n    return (\r\n        <div className='comments__container'>\r\n            <form className='comment__form' onSubmit={addComment}>\r\n                <label htmlFor='comment'>Add a comment</label>\r\n                <textarea\r\n                    placeholder='Type your comment...'\r\n                    value={comment}\r\n                    onChange={(e) => setComment(e.target.value)}\r\n                    rows={5}\r\n                    id='comment'\r\n                    name='comment'\r\n                    required\r\n                ></textarea>\r\n                <button className='commentBtn'>ADD COMMENT</button>\r\n            </form>\r\n            <div className='comments__section'>\r\n                <h2>Existing Comments</h2>\r\n                {commentList.map((comment) => (\r\n                    <div key={comment.id}>\r\n                        <p>\r\n                            <span style={{ fontWeight: \"bold\" }}>{comment.text} </span>by{\" \"}\r\n                            {comment.name}\r\n                        </p>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Comments;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,OAASC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,KAAM,CAAAC,MAAM,CAAGN,QAAQ,CAACO,OAAO,CAAC,uBAAuB,CAAC,CAExD,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACnB,KAAM,CAAEC,QAAQ,CAAEC,EAAG,CAAC,CAAGT,SAAS,CAAC,CAAC,CACpC,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACc,WAAW,CAAEC,cAAc,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAElD,KAAM,CAAAgB,UAAU,CAAIC,CAAC,EAAK,CACtBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB;AACR;AACA,WACQX,MAAM,CAACY,IAAI,CAAC,YAAY,CAAE,CACtBP,OAAO,CACPF,QAAQ,CACRC,EAAE,CACFS,MAAM,CAAEC,YAAY,CAACC,OAAO,CAAC,QAAQ,CACzC,CAAC,CAAC,CACFT,UAAU,CAAC,EAAE,CAAC,CAClB,CAAC,CACDd,SAAS,CAAC,IAAM,CACZQ,MAAM,CAACgB,EAAE,CAAC,UAAU,CAAGC,IAAI,EAAKT,cAAc,CAACS,IAAI,CAAC,CAAC,CACzD,CAAC,CAAE,EAAE,CAAC,CACNzB,SAAS,CAAC,IAAM,CACZQ,MAAM,CAACY,IAAI,CAAC,eAAe,CAAE,CAAET,QAAQ,CAAEC,EAAG,CAAC,CAAC,CAClD,CAAC,CAAE,CAACD,QAAQ,CAAEC,EAAE,CAAC,CAAC,CAElB,mBACIL,KAAA,QAAKmB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAChCpB,KAAA,SAAMmB,SAAS,CAAC,eAAe,CAACE,QAAQ,CAAEX,UAAW,CAAAU,QAAA,eACjDtB,IAAA,UAAOwB,OAAO,CAAC,SAAS,CAAAF,QAAA,CAAC,eAAa,CAAO,CAAC,cAC9CtB,IAAA,aACIyB,WAAW,CAAC,sBAAsB,CAClCC,KAAK,CAAElB,OAAQ,CACfmB,QAAQ,CAAGd,CAAC,EAAKJ,UAAU,CAACI,CAAC,CAACe,MAAM,CAACF,KAAK,CAAE,CAC5CG,IAAI,CAAE,CAAE,CACRtB,EAAE,CAAC,SAAS,CACZuB,IAAI,CAAC,SAAS,CACdC,QAAQ,MACD,CAAC,cACZ/B,IAAA,WAAQqB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,aAAW,CAAQ,CAAC,EACjD,CAAC,cACPpB,KAAA,QAAKmB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC9BtB,IAAA,OAAAsB,QAAA,CAAI,mBAAiB,CAAI,CAAC,CACzBZ,WAAW,CAACsB,GAAG,CAAExB,OAAO,eACrBR,IAAA,QAAAsB,QAAA,cACIpB,KAAA,MAAAoB,QAAA,eACIpB,KAAA,SAAM+B,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAZ,QAAA,EAAEd,OAAO,CAAC2B,IAAI,CAAC,GAAC,EAAM,CAAC,KAAE,CAAC,GAAG,CAChE3B,OAAO,CAACsB,IAAI,EACd,CAAC,EAJEtB,OAAO,CAACD,EAKb,CACR,CAAC,EACD,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAF,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}